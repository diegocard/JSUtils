/*! JSUtils 2014-01-12 */
!function(a){"use strict";if(!a.JSUtils){var b={global:a};a.JSUtils={getGlobal:function(){return b.global},isGlobal:function(a){return a===b.global},storeVariable:function(a,c){return JSUtils.isString(a)?(b[a]=c,b[a]):!1},getVariable:function(a){return JSUtils.isString(a)?b[a]:void 0},getKeys:function(a){var b,c=[];if(!JSUtils.isObject(a))throw new TypeError("Invalid object");for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},forEach:function(a,b,c){var d,e,f;if(JSUtils.isObject(a))for(f=JSUtils.getKeys(a),d=0,e=f.length;e>d;d+=1)b.call(c,a[f[d]],f[d],a);else for(d=0,e=a.length;e>d;d+=1)b.call(c,a[d],d,a)},isArray:function(a){return"[object Array]"==toString.call(a)},isObject:function(a){return a===Object(a)},isBoolean:function(a){return a===!0||a===!1},isString:function(a){return"[object String]"==toString.call(a)},isUndefined:function(a){return"undefined"==typeof a},isNumber:function(){return!isNaN(parseFloat(n))&&isFinite(n)}}}}(this),JSUtils.shallowCopy=function(a){var b,c;if(!JSUtils.isObject(a))return a;b=a.constructor();for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},JSUtils.deepCopy=function(a){var b,c,d,e;if(JSUtils.isArray(a)){for(b=[],c=0,d=a.length;d>c;c+=1)b[c]=JSUtils.deepCopy(a[c]);return b}if(JSUtils.isObject(a)){b={};for(e in a)b[e]=JSUtils.deepCopy(a[e]);return b}return a},JSUtils.firstIndex=function(a,b){for(var c=0,d=a.length;d>c;c+=1)if(b(a[c]))return c;return-1},JSUtils.replace=function(a,b,c){return JSUtils.forEach(a,function(d,e,f){(!c||c(d,e,f))&&(a[e]=b)}),a},JSUtils.storeConstant=function(){},JSUtils.format=function(a){var b=Array.prototype.slice.call(arguments,1),c=/\{(\d+)\}/g;return a.replace(c,function(a,c){return c in b?b[c]:a})},JSUtils.microTemplate=function(a,b){for(var c in b)a=a.replace(new RegExp("{{"+c+"}}","g"),b[c]);return a},JSUtils.hashCode=function(a){var b,c,d,e=0;if(0===a.length)return e;for(b=0,c=a.length;c>b;b++)d=a.charCodeAt(b),e=(e<<5)-e+d,e|=0;return e},JSUtils.translate=function(a,b,c){var d,e=JSUtils.getVariable("translations");if(e||(e=JSUtils.storeVariable("translations",{})),JSUtils.isString(a)&&JSUtils.isString(b))return d=JSUtils.hashCode(a+b),JSUtils.isString(c)?(e[d]=c,c):e[d];throw new TypeError("You must provide at least a string and language")};