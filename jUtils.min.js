/*! jUtils 2014-03-18 */
!function(a){"use strict";var b={},c={global:a};a.jUtils||(b.getGlobal=function(){return c.global},b.isGlobal=function(a){return a===c.global},b.storeVariable=function(a,d){if(b.isString(a))return c[a]=d,c[a];throw new TypeError("You must specify a variable name")},b.getVariable=function(a){if(b.isString(a))return c[a];throw new TypeError("You must specify a variable name")},b.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)},b.isObject=function(a){return a===Object(a)&&!b.isFunction(a)},b.isStrictlyObject=function(a){return b.isObject(a)&&!b.isArray(a)},b.isBoolean=function(a){return a===!0||a===!1},b.isString=function(a){return"[object String]"===Object.prototype.toString.call(a)},b.isFunction=function(a){return"[object Function]"===Object.prototype.toString.call(a)},b.isUndefined=function(a){return"undefined"==typeof a},b.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},b.isHtmlElement=function(a){return a instanceof HTMLElement},b.getJSON=function(a,c,d){var e,f=new XMLHttpRequest;return f.open("GET",a,!0),f.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?(e=JSON.parse(this.responseText),c(e)):d())},f.send(),f=null,b},b.ajaxPost=function(a,c){var d=new XMLHttpRequest;return d.open("POST",a,!0),d.send(c),b},b.ajaxGet=function(a,b,c){var d,e=new XMLHttpRequest;e.open("GET",a,!0),e.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?(d=this.responseText,b(d)):c())},e.send(),e=null},b.getKeys=function(a){var c,d=[];if(!b.isObject(a))throw new TypeError("Invalid object");for(c in a)a.hasOwnProperty(c)&&d.push(c);return d},b.forEach=function(a,c,d){var e,f,g;if(b.isStrictlyObject(a))for(g=b.getKeys(a),e=0,f=g.length;f>e;e+=1)c.call(d,a[g[e]],g[e],a);else for(e=0,f=a.length;f>e;e+=1)c.call(d,a[e],e,a)},b.first=function(a,c,d){var e,f,g;if(b.isStrictlyObject(a)){for(g=b.getKeys(a),e=0,f=g.length;f>e;e+=1)if(c.call(d,a[g[e]],g[e],a))return{element:a[g[e]],key:g[e]}}else for(e=0,f=a.length;f>e;e+=1)if(c.call(d,a[e],e,a))return{element:a[e],index:e}},b.replace=function(a,c,d){return b.forEach(a,function(e,f,g){(!d||d(e,f,g))&&(a[f]=b.isFunction(c)?c(a[f],f,a):c)}),a},b.indexes=function(a,c,d){var e=[];return b.forEach(a,function(a,b,f){c.call(d,a,b,f)&&e.push(b)}),e},b.findAll=function(a,c,d){var e=[];return b.forEach(a,function(a,b,f){c.call(d,a,b,f)&&e.push(a)}),e},b.all=function(a,c,d){return b.indexes(a,c,d).length===a.length},b.any=function(a,c,d){var e=b.first(a,c,d);return b.isObject(e)},b.storeConstant=function(){},b.setPrecision=function(a,c){var d,e=b.isNumeric;if(e(a)&&e(c))return d=Math.pow(10,c),Math.round(a*d)/d;throw new TypeError("You must specify a numeric number and precision")},b.equals=function(){var a=Array.prototype.slice.call(arguments),c=function(a,c){return typeof a!=typeof c?!1:b.isFunction(a)?a.toString===c.toString():JSON.stringify(a)===JSON.stringify(c)};return b.all(a,function(b,d){return d>0?c(b,a[d-1]):!0})},b.propertyCount=function(a){return b.getKeys(a).length},b.shallowCopy=function(a){var c,d;if(!b.isObject(a))return a;c=a.constructor();for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c},b.deepCopy=function(a){var c,d,e,f;if(b.isArray(a)){for(c=[],d=0,e=a.length;e>d;d+=1)c[d]=b.deepCopy(a[d]);return c}if(b.isObject(a)){c={};for(f in a)c[f]=b.deepCopy(a[f]);return c}return a},b.when=function(){var a=this;return this instanceof b.when?(a.pending=Array.prototype.slice.call(arguments[0]),a.pending_length=a.pending.length,a.results={length:0},function(){a.pass=function(){a.results[arguments[0]]=arguments[1],a.results.length+=1,a.results.length===a.pending_length&&a.then.call(a,a.results)}}(),void 0):new b.when(arguments)},b.when.prototype={then:function(){for(this.then=arguments[0];this.pending[0];)this.pending.shift().call(this,this.pass)}},b.emailRegExp=function(){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},b.format=function(a){var b=Array.prototype.slice.call(arguments,1),c=/\{(\d+)\}/g;return a.replace(c,function(a,c){return c in b?b[c]:a})},b.microTemplate=function(a,b){for(var c in b)a=a.replace(new RegExp("{{"+c+"}}","g"),b[c]);return a},b.hashCode=function(a){var b,c,d,e=0;if(0===a.length)return e;for(b=0,c=a.length;c>b;b++)d=a.charCodeAt(b),e=(e<<5)-e+d,e|=0;return e},b.translate=function(a,c,d){var e,f=b.getVariable("translations");if(f||(f=b.storeVariable("translations",{})),b.isString(a)&&b.isString(c))return e=b.hashCode(a+c),b.isString(d)?(f[e]=d,d):f[e];throw new TypeError("You must provide at least a string and language")},b.slugify=function(a){var b,c,d="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",e="aaaaaeeeeeiiiiooooouuuunc------";for(a=a.replace(/^\s+|\s+$/g,""),a=a.toLowerCase(),b=0,c=d.length;c>b;b++)a=a.replace(new RegExp(d.charAt(b),"g"),e.charAt(b));return a=a.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},a.jUtils=b)}(this);